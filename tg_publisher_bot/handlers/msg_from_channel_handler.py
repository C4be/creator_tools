from aiogram import Router, F, types

router = Router()

@router.message(F.forward_from_chat)
async def cmd_get_channel_id(message: types.Message):
    """
    –•–µ–Ω–¥–ª–µ—Ä —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –ª—é–±–æ–µ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞.
    """
    # –ò–∑–≤–ª–µ–∫–∞–µ–º –æ–±—ä–µ–∫—Ç —á–∞—Ç–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—Å–ª–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ
    chat = message.forward_from_chat
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –æ—Ç–≤–µ—Ç
    response = (
        f"üìä **–î–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª–∞:**\n\n"
        f"üîπ **–ù–∞–∑–≤–∞–Ω–∏–µ:** {chat.title}\n"
        f"üîπ **ID:** `{chat.id}`\n"
        f"üîπ **Username:** @{chat.username if chat.username else '–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}\n\n"
        f"–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞."
    )
    
    await message.reply(response, parse_mode="Markdown")

@router.message(F.forward_sender_name)
async def error_hidden_forward(message: types.Message):
    """
    –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–∫—Ä—ã—Ç–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç 
    –ø—Ä–∏ –ø–µ—Ä–µ—Å—ã–ª–∫–µ (–Ω–æ —ç—Ç–æ —á–∞—â–µ –∫–∞—Å–∞–µ—Ç—Å—è –ª–∏—á–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π).
    """
    await message.answer("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å ID. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–º–µ–Ω–Ω–æ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞.")